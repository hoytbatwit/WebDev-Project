<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Annoucement</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">

</head>
<body>
    <header>
        <table class="head">
            <th class="home"><a href="./index.html">Home Page</a></th>
            <th class="announcements"><a href="./Announcement.html">Announcements</a></th>
            <th class="about_us"><a href="./About.html">About Us</a></th>
        </table>
        <h1 class="website_name">Is It Up?</h1>
    </header>
    <body>
        <h1>Add Entry</h1>
        <form action="/addentry" method="POST">
          <label for="entid">Entry ID:</label>
          <input type="number" id="entid" name="entid" required>
          <br>
          <label for="entname">entry Name:</label>
          <input type="text" id="entname" name="entname" required>
          <br>
          <button type="submit">Submit</button>
        </form>
      
        <h2>Entries</h2>
        <table id="Entries">
          <thead>
            <tr>
              <th>entry ID</th>
              <th>entry Name</th>
              <th>Email</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      
        <script>
          async function fetchEntries() {
            const response = await fetch('/Entries');
            const data = await response.json();
            const entriesTable = document.getElementById('Entries').getElementsByTagName('tbody')[0];
            entriesTable.innerHTML = '';
      
            data.forEach(entry => {
              const newRow = EntriesTable.insertRow();
              newRow.innerHTML = `
                <td>${entry.entid}</td>
                <td>${entry.entname}</td>
              `;
            });
          }
      
          fetchEntries();
        </script>
    <footer>
        <table class="foot">
            <th class="creators">Created by: Ethan Penniman, Matthew Fairneny, Nicholas Bragdon, Brian Hoyt</th>
            <th class="designed_date">Designed On: 3/6/2023</th>
            <th class="current_date" id="date">Current Date: <!--Javascript variable for current date goes here--> </th>
        </table>
        <script>
            n =  new Date();
            y = n.getFullYear();
            m = n.getMonth() + 1;
            d = n.getDate();
            document.getElementById("date").innerHTML ="Current Date: " +  m + "/" + d + "/" + y;
        </script>
    </footer>
</body>
</html>