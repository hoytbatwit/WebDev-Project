<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Is It Up?</title>
    <link id="theme-stylesheet" rel="stylesheet" href="styles.css" />
    <script src="script.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
  </head>

  <body>
    <!--Links to all other webpages-->
    <header>
      <table class="head">
        <th class="home">
          <a href="./index.html"
            ><img
              class="favicon"
              src="./Pictures/up-and-down-arrows-colored.png"
              alt="home"
            />Home Page</a
          >
        </th>
        <th class="announcements">
          <a href="./Announcement.html">Announcements</a>
        </th>
        <th class="about_us"><a href="./About.html">About Us</a></th>
      </table>
      <h1 class="website_name">
        <img
          class="faviconHead"
          src="./Pictures/up-and-down-arrows-colored.png"
        />Is It Up?
      </h1>
    </header>
    <!--Where the search bar is located along with submit button and history button-->
    <section class="Main_Content">
      <form id="check-form" class="search">
        <legend>Enter a Website URL:</legend>
        <div>
          <input
            id="website"
            class="search_input"
            type="text"
            placeholder="google.com"
            name="website"
          /><br />
          <button class="query_submit" type="submit">Find out!</button>
        </div>
      </form>
      <p class="history"><a href="./dbHTML.html">History</a></p>
    </section>
    <!--Footer to display dark mode button-->
    <footer>
      <table class="bottom">
        <th class="creators">
          Created by: Ethan Penniman, Matthew Fairneny, Nicholas Bragdon, Brian
          Hoyt
        </th>
        <th class="designed_date">
          <button id="theme-toggle" class="theme_button">Dark Mode</button>
        </th>
        <th class="current_date" id="date">
          Current Date:
          <!--Javascript variable for current date goes here-->
        </th>
      </table>
      <script>
        const themeToggle = document.getElementById("theme-toggle");
        const themeStylesheet = document.getElementById("theme-stylesheet");

        function loadFunction() {
          //get cookies
          let theme = document.cookie;
          console.log(theme);
          if (theme === "theme=darkMode") {
            themeStylesheet.setAttribute("href", "dark.css");
          } else if (theme === "theme=lightMode") {
            themeStylesheet.setAttribute("href", "styles.css");
          } else {
            //default to light mode
            themeStylesheet.setAttribute("href", "styles.css");
          }
        }

        //looking for the dark mode/light mode button to be clicked to know when to change css
        themeToggle.addEventListener("click", () => {
          if (themeStylesheet.getAttribute("href") === "styles.css") {
            themeStylesheet.setAttribute("href", "dark.css");
            document.cookie = "theme=darkMode; path=/; samesite=lax";
          } else {
            themeStylesheet.setAttribute("href", "styles.css");
            document.cookie = "theme=lightMode; path=/; samesite=lax";
          }
        });

        window.onload = loadFunction();

    //Get the current date
    n = new Date();
    //Get current year
    y = n.getFullYear();
    //Get current month
    m = n.getMonth() + 1;
    //Get current day
    d = n.getDate();
    //Combine all data gathered above to display date to the user
    document.getElementById("date").innerHTML =
      "Current Date: " + m + "/" + d + "/" + y;
      </script>
    </footer>
  </body>
</html>
